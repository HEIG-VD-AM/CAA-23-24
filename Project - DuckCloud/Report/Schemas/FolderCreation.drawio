<mxfile host="app.diagrams.net" modified="2023-12-31T13:18:07.261Z" agent="Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36" etag="125hSEKqmkVRwZKNKSzC" version="22.1.16" type="device" pages="3">
  <diagram name="Page-1" id="5weUF10P89xECPLu6Vj3">
    <mxGraphModel dx="1434" dy="779" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="tKnuwkjhEqfff0nrh-8c-3" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="tKnuwkjhEqfff0nrh-8c-1" target="tKnuwkjhEqfff0nrh-8c-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="tKnuwkjhEqfff0nrh-8c-1" value="Folder creation" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="365.5" y="120" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tKnuwkjhEqfff0nrh-8c-2" value="Locally create folder with a chosen name" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="365.5" y="230" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="v3pWzvcuu68JQ5mfkEfI-8" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="v3pWzvcuu68JQ5mfkEfI-4" target="v3pWzvcuu68JQ5mfkEfI-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="v3pWzvcuu68JQ5mfkEfI-11" value="YES" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="v3pWzvcuu68JQ5mfkEfI-8" vertex="1" connectable="0">
          <mxGeometry x="-0.3492" y="-2" relative="1" as="geometry">
            <mxPoint x="14" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="v3pWzvcuu68JQ5mfkEfI-9" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="v3pWzvcuu68JQ5mfkEfI-4" target="v3pWzvcuu68JQ5mfkEfI-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="v3pWzvcuu68JQ5mfkEfI-10" value="NO" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="v3pWzvcuu68JQ5mfkEfI-9" vertex="1" connectable="0">
          <mxGeometry x="-0.7794" relative="1" as="geometry">
            <mxPoint x="43" y="-9" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="v3pWzvcuu68JQ5mfkEfI-4" value="Am I &lt;br&gt;the owner ?" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="378" y="340" width="95" height="90" as="geometry" />
        </mxCell>
        <mxCell id="v3pWzvcuu68JQ5mfkEfI-20" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="v3pWzvcuu68JQ5mfkEfI-6" target="v3pWzvcuu68JQ5mfkEfI-13" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="v3pWzvcuu68JQ5mfkEfI-21" value="YES" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="v3pWzvcuu68JQ5mfkEfI-20" vertex="1" connectable="0">
          <mxGeometry x="-0.2869" y="-2" relative="1" as="geometry">
            <mxPoint x="15" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="v3pWzvcuu68JQ5mfkEfI-6" value="Is it shared &lt;br&gt;to me ?" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="590" y="340" width="95" height="90" as="geometry" />
        </mxCell>
        <mxCell id="v3pWzvcuu68JQ5mfkEfI-16" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="v3pWzvcuu68JQ5mfkEfI-7" target="v3pWzvcuu68JQ5mfkEfI-15" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="v3pWzvcuu68JQ5mfkEfI-7" value="Retrieve parent&#39;s folder sym. key" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="365" y="480" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="v3pWzvcuu68JQ5mfkEfI-23" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="v3pWzvcuu68JQ5mfkEfI-13" target="v3pWzvcuu68JQ5mfkEfI-15" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="637.4999999999998" y="620" as="targetPoint" />
            <Array as="points">
              <mxPoint x="637" y="620" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="v3pWzvcuu68JQ5mfkEfI-13" value="Retrieve parent&#39;s folder sym. key using private key on shared key" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="577.5" y="480" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="v3pWzvcuu68JQ5mfkEfI-14" value="&lt;font style=&quot;font-size: 14px;&quot; color=&quot;#ff120a&quot;&gt;Générer des sym key pour les folders sur les clients c&#39;est ok ?&lt;br&gt;On pourrait proposer de gen sur le serveur et qu&#39;il envoie celle-ci chiffrée au client&amp;nbsp;&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="70" y="380" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="v3pWzvcuu68JQ5mfkEfI-25" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="v3pWzvcuu68JQ5mfkEfI-15" target="v3pWzvcuu68JQ5mfkEfI-24" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="v3pWzvcuu68JQ5mfkEfI-15" value="Generate new sym. key for the created folder" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="365" y="590" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="v3pWzvcuu68JQ5mfkEfI-18" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="425.21000000000004" y="290" as="sourcePoint" />
            <mxPoint x="425.21000000000004" y="340" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="v3pWzvcuu68JQ5mfkEfI-28" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="v3pWzvcuu68JQ5mfkEfI-24" target="v3pWzvcuu68JQ5mfkEfI-27" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="v3pWzvcuu68JQ5mfkEfI-24" value="Encrypt new folder sym. key and folder name with retrieved sym. key" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="365" y="700" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="v3pWzvcuu68JQ5mfkEfI-32" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="v3pWzvcuu68JQ5mfkEfI-27" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="425.5" y="950" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="v3pWzvcuu68JQ5mfkEfI-37" value="NO" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="v3pWzvcuu68JQ5mfkEfI-32" vertex="1" connectable="0">
          <mxGeometry x="0.0303" y="1" relative="1" as="geometry">
            <mxPoint x="9" y="-3" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="v3pWzvcuu68JQ5mfkEfI-33" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="v3pWzvcuu68JQ5mfkEfI-27" target="v3pWzvcuu68JQ5mfkEfI-30" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="v3pWzvcuu68JQ5mfkEfI-35" value="YES" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="v3pWzvcuu68JQ5mfkEfI-33" vertex="1" connectable="0">
          <mxGeometry x="0.2138" y="-2" relative="1" as="geometry">
            <mxPoint x="-4" y="-12" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="v3pWzvcuu68JQ5mfkEfI-27" value="&lt;font style=&quot;font-size: 11px;&quot;&gt;Is the parent &lt;br&gt;folder already shared&lt;/font&gt;" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="378" y="810" width="95" height="90" as="geometry" />
        </mxCell>
        <mxCell id="v3pWzvcuu68JQ5mfkEfI-34" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="v3pWzvcuu68JQ5mfkEfI-30" target="v3pWzvcuu68JQ5mfkEfI-31" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="v3pWzvcuu68JQ5mfkEfI-30" value="Copy to metadata all the shared users in the parent folder with the sym. key encrypted with their public key ." style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="510" y="825" width="170" height="60" as="geometry" />
        </mxCell>
        <mxCell id="v3pWzvcuu68JQ5mfkEfI-36" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="v3pWzvcuu68JQ5mfkEfI-31" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="485.5" y="980" as="targetPoint" />
            <Array as="points">
              <mxPoint x="790" y="980" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="v3pWzvcuu68JQ5mfkEfI-31" value="Encrypt new folder sym. key and folder name with retrieved sym. key" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="730" y="825" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="v3pWzvcuu68JQ5mfkEfI-38" value="Send folder and metadata to server" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="365" y="950" width="120" height="60" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="YT35vlgq7SbVXgiPbTzR" name="Page-2">
    <mxGraphModel dx="2284" dy="779" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="FEileP5LVV7y6IerkJtV-3" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="FEileP5LVV7y6IerkJtV-1" target="FEileP5LVV7y6IerkJtV-2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="FEileP5LVV7y6IerkJtV-1" value="User selects a folder" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="340" y="60" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="FEileP5LVV7y6IerkJtV-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="FEileP5LVV7y6IerkJtV-2">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="180" y="280" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FEileP5LVV7y6IerkJtV-10" value="Down" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="FEileP5LVV7y6IerkJtV-8">
          <mxGeometry x="0.1692" y="3" relative="1" as="geometry">
            <mxPoint x="67" y="-14" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FEileP5LVV7y6IerkJtV-9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="FEileP5LVV7y6IerkJtV-2">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="620" y="280" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FEileP5LVV7y6IerkJtV-11" value="Up" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="FEileP5LVV7y6IerkJtV-9">
          <mxGeometry x="-0.2154" y="1" relative="1" as="geometry">
            <mxPoint x="-10" y="-11" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FEileP5LVV7y6IerkJtV-2" value="Change directory up or down" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="360" y="160" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="FEileP5LVV7y6IerkJtV-14" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" target="FEileP5LVV7y6IerkJtV-13">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="620" y="340" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FEileP5LVV7y6IerkJtV-37" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="FEileP5LVV7y6IerkJtV-12" target="FEileP5LVV7y6IerkJtV-35">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="FEileP5LVV7y6IerkJtV-40" value="Yes" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="FEileP5LVV7y6IerkJtV-37">
          <mxGeometry x="-0.589" y="-2" relative="1" as="geometry">
            <mxPoint x="7" y="-13" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FEileP5LVV7y6IerkJtV-38" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="FEileP5LVV7y6IerkJtV-12" target="FEileP5LVV7y6IerkJtV-36">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="FEileP5LVV7y6IerkJtV-39" value="No" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="FEileP5LVV7y6IerkJtV-38">
          <mxGeometry x="-0.1007" y="-1" relative="1" as="geometry">
            <mxPoint x="18" y="-9" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FEileP5LVV7y6IerkJtV-12" value="Shared ?" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="140" y="280" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="FEileP5LVV7y6IerkJtV-16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="FEileP5LVV7y6IerkJtV-13" target="FEileP5LVV7y6IerkJtV-15">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="FEileP5LVV7y6IerkJtV-25" value="Yes" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="FEileP5LVV7y6IerkJtV-16">
          <mxGeometry x="-0.1975" y="-2" relative="1" as="geometry">
            <mxPoint x="15" y="-11" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FEileP5LVV7y6IerkJtV-19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="FEileP5LVV7y6IerkJtV-13" target="FEileP5LVV7y6IerkJtV-17">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="FEileP5LVV7y6IerkJtV-27" value="No" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="FEileP5LVV7y6IerkJtV-19">
          <mxGeometry x="-0.1758" y="-1" relative="1" as="geometry">
            <mxPoint y="-12" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FEileP5LVV7y6IerkJtV-13" value="Shared ?" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="580" y="390" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="FEileP5LVV7y6IerkJtV-30" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="FEileP5LVV7y6IerkJtV-15" target="FEileP5LVV7y6IerkJtV-28">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="FEileP5LVV7y6IerkJtV-15" value="Return the user&#39;s root folder path and get retrieves the root key from the keychain" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="440" y="480" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="FEileP5LVV7y6IerkJtV-29" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="FEileP5LVV7y6IerkJtV-17" target="FEileP5LVV7y6IerkJtV-28">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="FEileP5LVV7y6IerkJtV-17" value="&lt;font style=&quot;font-size: 9px;&quot;&gt;Truncate current path to move one level up and retrieve previous folder symmetric key from keychain&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="680" y="480" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="FEileP5LVV7y6IerkJtV-21" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="FEileP5LVV7y6IerkJtV-20" target="FEileP5LVV7y6IerkJtV-13">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="FEileP5LVV7y6IerkJtV-22" value="No" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="FEileP5LVV7y6IerkJtV-21">
          <mxGeometry x="-0.5167" relative="1" as="geometry">
            <mxPoint x="10" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FEileP5LVV7y6IerkJtV-24" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="FEileP5LVV7y6IerkJtV-20" target="FEileP5LVV7y6IerkJtV-23">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="FEileP5LVV7y6IerkJtV-26" value="Yes" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="FEileP5LVV7y6IerkJtV-24">
          <mxGeometry x="-0.4643" y="2" relative="1" as="geometry">
            <mxPoint x="2" y="-8" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FEileP5LVV7y6IerkJtV-20" value="&lt;font style=&quot;font-size: 10px;&quot;&gt;Already in root folder ?&lt;/font&gt;" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="580" y="280" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="FEileP5LVV7y6IerkJtV-23" value="Stop the process" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="700" y="290" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="FEileP5LVV7y6IerkJtV-32" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="FEileP5LVV7y6IerkJtV-28" target="FEileP5LVV7y6IerkJtV-31">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="FEileP5LVV7y6IerkJtV-28" value="Retrieve parent folder&#39;s metadata from the server" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="560" y="590" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="FEileP5LVV7y6IerkJtV-34" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="FEileP5LVV7y6IerkJtV-31" target="FEileP5LVV7y6IerkJtV-33">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="FEileP5LVV7y6IerkJtV-31" value="Decrypt the folder&#39;s content (names)" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="330" y="790" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="FEileP5LVV7y6IerkJtV-33" value="Set up new session variables" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="330" y="880" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="FEileP5LVV7y6IerkJtV-45" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="FEileP5LVV7y6IerkJtV-35" target="FEileP5LVV7y6IerkJtV-44">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="FEileP5LVV7y6IerkJtV-35" value="Retrieve share path (the one to the user folder who shared the folder to us)" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="240" y="370" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="FEileP5LVV7y6IerkJtV-42" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="FEileP5LVV7y6IerkJtV-36" target="FEileP5LVV7y6IerkJtV-41">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="FEileP5LVV7y6IerkJtV-36" value="Retrieve current folder&#39;s metadata and check if the child folder exists" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry y="370" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="FEileP5LVV7y6IerkJtV-46" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="FEileP5LVV7y6IerkJtV-41" target="FEileP5LVV7y6IerkJtV-43">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="FEileP5LVV7y6IerkJtV-41" value="&lt;font style=&quot;font-size: 10px;&quot;&gt;Retrieve current folder&#39;s symmetric key from keychain to decrypt child folder&#39;s symmetric key&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry y="470" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="FEileP5LVV7y6IerkJtV-49" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="FEileP5LVV7y6IerkJtV-43" target="FEileP5LVV7y6IerkJtV-48">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="FEileP5LVV7y6IerkJtV-43" value="&lt;font style=&quot;font-size: 10px;&quot;&gt;Create the new path to the chosen folder by adding its name to the current path&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry y="570" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="FEileP5LVV7y6IerkJtV-50" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="FEileP5LVV7y6IerkJtV-44" target="FEileP5LVV7y6IerkJtV-48">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="300.02857142857147" y="525" as="sourcePoint" />
            <mxPoint x="180.02857142857135" y="675" as="targetPoint" />
            <Array as="points">
              <mxPoint x="300" y="655" />
              <mxPoint x="180" y="655" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="FEileP5LVV7y6IerkJtV-44" value="&lt;font style=&quot;font-size: 10px;&quot;&gt;Retrieve private key from session variables to decrypt share folder symmetric key&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="240" y="470" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="FEileP5LVV7y6IerkJtV-52" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.439;exitY=1.003;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="FEileP5LVV7y6IerkJtV-48" target="FEileP5LVV7y6IerkJtV-31">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="390" y="770" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FEileP5LVV7y6IerkJtV-48" value="Request the new directory metadata to the server by giving its path" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="120" y="680" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="FEileP5LVV7y6IerkJtV-55" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-30" y="50" width="880" height="910" as="geometry" />
        </mxCell>
        <mxCell id="FEileP5LVV7y6IerkJtV-56" value="&lt;font style=&quot;font-size: 20px;&quot;&gt;&lt;b&gt;Folder navigation&lt;/b&gt;&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-85" y="50" width="290" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="NkWwIEusmVOieSzajkhO" name="Page-3">
    <mxGraphModel dx="1304" dy="708" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="COO9tXnkfJX1CTczABd9-1" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="30" y="80" width="740" height="580" as="geometry" />
        </mxCell>
        <mxCell id="COO9tXnkfJX1CTczABd9-2" value="Client" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="1">
          <mxGeometry x="160" y="150" width="100" height="500" as="geometry" />
        </mxCell>
        <mxCell id="COO9tXnkfJX1CTczABd9-3" value="Server" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="1">
          <mxGeometry x="560" y="150" width="100" height="490" as="geometry" />
        </mxCell>
        <mxCell id="COO9tXnkfJX1CTczABd9-4" value="" style="html=1;points=[[0,0,0,0,5],[0,1,0,0,-5],[1,0,0,0,5],[1,1,0,0,-5]];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="COO9tXnkfJX1CTczABd9-3">
          <mxGeometry x="45" y="270" width="10" height="210" as="geometry" />
        </mxCell>
        <mxCell id="COO9tXnkfJX1CTczABd9-5" value="Initiates creation" style="html=1;verticalAlign=bottom;startArrow=oval;startFill=1;endArrow=block;startSize=8;curved=0;rounded=0;" edge="1" parent="1">
          <mxGeometry y="61" width="60" relative="1" as="geometry">
            <mxPoint x="206.0999999999999" y="230" as="sourcePoint" />
            <mxPoint x="206.0999999999999" y="230" as="targetPoint" />
            <mxPoint x="-60" y="-10" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="COO9tXnkfJX1CTczABd9-6" value="" style="html=1;verticalAlign=bottom;startArrow=oval;startFill=1;endArrow=block;startSize=8;curved=0;rounded=0;" edge="1" parent="1" target="COO9tXnkfJX1CTczABd9-8">
          <mxGeometry width="60" relative="1" as="geometry">
            <mxPoint x="90" y="220" as="sourcePoint" />
            <mxPoint x="209" y="220" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="COO9tXnkfJX1CTczABd9-7" value="New folder name" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="COO9tXnkfJX1CTczABd9-6">
          <mxGeometry x="-0.287" y="1" relative="1" as="geometry">
            <mxPoint x="11" y="15" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="COO9tXnkfJX1CTczABd9-8" value="" style="html=1;points=[[0,0,0,0,5],[0,1,0,0,-5],[1,0,0,0,5],[1,1,0,0,-5]];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="1">
          <mxGeometry x="205" y="210" width="10" height="430" as="geometry" />
        </mxCell>
        <mxCell id="COO9tXnkfJX1CTczABd9-9" value="User" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;" vertex="1" parent="1">
          <mxGeometry x="44" y="190" width="30" height="60" as="geometry" />
        </mxCell>
        <mxCell id="COO9tXnkfJX1CTczABd9-12" value="&lt;font style=&quot;font-size: 20px;&quot;&gt;&lt;b&gt;Folder creation&lt;/b&gt;&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="12" y="82" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="COO9tXnkfJX1CTczABd9-13" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="215" y="293" as="sourcePoint" />
            <mxPoint x="215" y="339" as="targetPoint" />
            <Array as="points">
              <mxPoint x="240" y="293" />
              <mxPoint x="240" y="309" />
              <mxPoint x="240" y="339" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="COO9tXnkfJX1CTczABd9-14" value="Encrypt new folder&#39;s&amp;nbsp;&lt;br&gt;name with current&amp;nbsp;&lt;br&gt;symmetric key" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="COO9tXnkfJX1CTczABd9-13">
          <mxGeometry x="-0.0183" y="1" relative="1" as="geometry">
            <mxPoint x="59" y="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="COO9tXnkfJX1CTczABd9-15" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="215" y="225" as="sourcePoint" />
            <mxPoint x="215" y="271" as="targetPoint" />
            <Array as="points">
              <mxPoint x="240" y="225" />
              <mxPoint x="240" y="241" />
              <mxPoint x="240" y="271" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="COO9tXnkfJX1CTczABd9-16" value="Verify this folder doesn&#39;t&lt;br&gt;already exists and retrieve&lt;br&gt;the key of the parent&lt;br&gt;(current folder)" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="COO9tXnkfJX1CTczABd9-15">
          <mxGeometry x="-0.0183" y="1" relative="1" as="geometry">
            <mxPoint x="69" y="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="COO9tXnkfJX1CTczABd9-17" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="215" y="357" as="sourcePoint" />
            <mxPoint x="215" y="403" as="targetPoint" />
            <Array as="points">
              <mxPoint x="240" y="357" />
              <mxPoint x="240" y="373" />
              <mxPoint x="240" y="403" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="COO9tXnkfJX1CTczABd9-18" value="&lt;div&gt;Update current folder&#39;s&lt;/div&gt;&lt;div&gt;metadata to add the&lt;/div&gt;&lt;div&gt;folder&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="COO9tXnkfJX1CTczABd9-17">
          <mxGeometry x="-0.0183" y="1" relative="1" as="geometry">
            <mxPoint x="62" y="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="COO9tXnkfJX1CTczABd9-19" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="215" y="440" as="sourcePoint" />
            <mxPoint x="605" y="440" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="COO9tXnkfJX1CTczABd9-20" value="Send updated current folder&#39;s metadata" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="COO9tXnkfJX1CTczABd9-19">
          <mxGeometry x="-0.4256" y="-1" relative="1" as="geometry">
            <mxPoint x="80" y="-11" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="COO9tXnkfJX1CTczABd9-21" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="615" y="446" as="sourcePoint" />
            <mxPoint x="615" y="492" as="targetPoint" />
            <Array as="points">
              <mxPoint x="640" y="446" />
              <mxPoint x="640" y="462" />
              <mxPoint x="640" y="492" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="COO9tXnkfJX1CTczABd9-22" value="Update current folder&#39;s&lt;br&gt;metadata" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="COO9tXnkfJX1CTczABd9-21">
          <mxGeometry x="-0.0183" y="1" relative="1" as="geometry">
            <mxPoint x="59" y="2" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="COO9tXnkfJX1CTczABd9-23" value="" style="endArrow=none;html=1;rounded=0;endFill=0;startArrow=classic;startFill=1;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="215" y="621" as="sourcePoint" />
            <mxPoint x="605" y="621" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="COO9tXnkfJX1CTczABd9-24" value="Folder creation successful" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="COO9tXnkfJX1CTczABd9-23">
          <mxGeometry x="-0.4256" y="-1" relative="1" as="geometry">
            <mxPoint x="80" y="-13" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="COO9tXnkfJX1CTczABd9-25" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="615" y="508" as="sourcePoint" />
            <mxPoint x="615" y="554" as="targetPoint" />
            <Array as="points">
              <mxPoint x="640" y="508" />
              <mxPoint x="640" y="524" />
              <mxPoint x="640" y="554" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="COO9tXnkfJX1CTczABd9-26" value="Create new folder" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="COO9tXnkfJX1CTczABd9-25">
          <mxGeometry x="-0.0183" y="1" relative="1" as="geometry">
            <mxPoint x="45" y="2" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="COO9tXnkfJX1CTczABd9-27" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="615" y="567" as="sourcePoint" />
            <mxPoint x="615" y="613" as="targetPoint" />
            <Array as="points">
              <mxPoint x="640" y="567" />
              <mxPoint x="640" y="583" />
              <mxPoint x="640" y="613" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="COO9tXnkfJX1CTczABd9-28" value="Create default metadata&lt;br&gt;for the new folder" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="COO9tXnkfJX1CTczABd9-27">
          <mxGeometry x="-0.0183" y="1" relative="1" as="geometry">
            <mxPoint x="59" y="2" as="offset" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
